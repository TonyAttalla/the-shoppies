(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var c=n(192),i=n(0),a=n(36),o=n.n(a),s=n(195),r=n(170),l=Object(r.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}}),j=n(16),b=n(4),d=n(103),h=n.n(d).a.create({baseURL:"".concat("https://www.omdbapi.com")});function u(e,t){return h.get("https://www.omdbapi.com/?s=".concat(t,"&apikey=8eda12ed&page=").concat(e,"&type=movie"))}var O=n(171),m=n(172),g=n(173),x=n(201),f=n(111),p=n(174),v=n(104),w=n(3);var S=function(e){var t=e.loading,n=e.getMovies,c=e.query,a=e.setQuery,o=e.liveSearch;Object(i.useEffect)((function(){o&&c.length>3&&n(1)}),[c,o,n]);var s=Object(v.debounce)((function(e){var t=e.target.value;a(t)}),300);return Object(w.jsx)(O.a,{width:"100%",children:Object(w.jsxs)(m.a,{children:[Object(w.jsx)(g.a,{pointerEvents:"none",children:Object(w.jsx)(p.a,{color:"gray"})}),Object(w.jsx)(x.a,{type:"text",placeholder:"Title (4+ chars)",onChange:function(e){return s(e)}}),Object(w.jsx)(f.a,{type:"submit",hidden:o,isLoading:t,marginLeft:5,colorScheme:"green",disabled:c.length<3,onClick:function(){return n(1)},children:"Search"})]})})},y=n(176);var C=function(e){var t=e.isOpen;return Object(w.jsx)(w.Fragment,{children:!1===t&&Object(w.jsx)(y.a,{in:t,children:Object(w.jsx)(O.a,{bg:"#9ae7b5",position:"absolute",h:"5vh",overflow:"hidden",w:"100%",children:t?"open":"not open"})})})},k=n(85),I=n.n(k),M=n(106),T=n.n(M),D=n(194),L=n(196),N=n(181),R=n(185),Y=n(184),F=n(186),B=n(187),E=n(188),z=n(189),P=n(177),W=n(193),J=n(183),q=n(200),A=n(182),Q=n(198),X=n(199);var G=function(e){var t=e.isOpen,n=e.onClose,c=e.title,a=e.movieId,o=Object(i.useState)(!0),s=Object(b.a)(o,2),r=s[0],l=s[1],j=Object(i.useState)({}),d=Object(b.a)(j,2),u=d[0],m=d[1],g=Object(i.useState)([]),x=Object(b.a)(g,2),f=x[0],p=x[1],v=Object(i.useState)(""),S=Object(b.a)(v,2),y=S[0],C=S[1];return Object(i.useEffect)((function(){t&&function(e){return h.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=8eda12ed&type=movie"))}(a).then((function(e){console.log("running useeffect");var t=e.data,n={};n.Actors=t.Actors,n.Director=t.Director,n.Plot=t.Plot,n.Rating=t.Rated,n.Runtime=t.Runtime,n.Year=t.Year,n.Language=t.Language,C(t.Poster),p(t.Genre.split(",")),m(n),l(!1)}))}),[t,a]),Object(w.jsxs)(W.a,{onClose:n,isOpen:t,children:[Object(w.jsx)(W.g,{}),Object(w.jsxs)(W.d,{maxW:"45rem",children:[Object(w.jsx)(W.c,{}),Object(w.jsx)(W.f,{children:c}),r&&Object(w.jsx)(L.b,{p:5,isLoaded:!r,mt:"4",noOfLines:20,spacing:"4"}),Object(w.jsx)(W.b,{children:Object(w.jsxs)(q.a,{columns:[1,null,2],spacing:5,children:[Object(w.jsx)(N.a,{direction:"column",justifyContent:"center",children:Object.keys(u).map((function(e,t){return Object(w.jsxs)(O.a,{pb:5,children:[Object(w.jsxs)(A.a,{as:"b",children:[e,": "]})," ",u[e]," ",Object(w.jsx)("br",{})]})}))}),Object(w.jsx)(Q.a,{objectFit:"fill",src:y,alt:"poster"})]})}),Object(w.jsxs)(W.e,{display:"flex",children:[Object(w.jsx)(X.a,{children:f&&f.map((function(e){return Object(w.jsx)(J.a,{size:"lg",colorScheme:"gray",children:Object(w.jsx)(J.b,{children:e})},e)}))}),Object(w.jsx)(Y.a,{})]})]})]})};var U=function(e){var t=e.name,n=e.isNominated,c=e.id,a=e.year,o=e.nominateMovie,s=e.removeMovie,r=e.nominees,l=Object(i.useState)(!1),j=Object(b.a)(l,2),d=j[0],h=j[1];return Object(w.jsxs)(P.a,{initialScale:.9,in:!0,children:[Object(w.jsx)(G,{isOpen:d,onClose:function(){return h(!1)},title:t,movieId:c}),Object(w.jsx)(O.a,{borderWidth:"1px",borderRadius:"md",backgroundColor:"white",textColor:"black",p:5,marginTop:6,width:"95%",children:Object(w.jsxs)(N.a,{alignItems:"center",children:[Object(w.jsxs)(R.a,{p:2,size:"md",children:[t," (",a,")"]}),Object(w.jsx)(Y.a,{}),Object(w.jsx)(F.a,{marginRight:1,colorScheme:r?"red":"green",icon:r?Object(w.jsx)(B.a,{}):Object(w.jsx)(E.a,{}),disabled:!r&&n,onClick:function(){r?s(c):o(c)}}),Object(w.jsx)(F.a,{_hover:{bg:"gray.500"},backgroundColor:"gray.400",icon:Object(w.jsx)(z.a,{}),disabled:!r&&n,onClick:function(){h(!0)}})]})})]})},$=n.p+"static/media/shopify.a42f997c.png";var _=function(){return Object(w.jsxs)(N.a,{width:"100%",alignItems:"center",pb:5,children:[Object(w.jsx)(R.a,{as:"h1",children:"Welcome to The Shoppies!"}),Object(w.jsx)(Y.a,{}),Object(w.jsx)(N.a,{alignItems:"center",boxSize:"100px",children:Object(w.jsx)(Q.a,{src:$,alt:"shopify logo"})})]})},H=n(190),K=n(191),V=n(197);var Z=function(){var e=JSON.parse(localStorage.getItem("nominees"))||[],t=Object(i.useState)([]),n=Object(b.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e),s=Object(b.a)(o,2),r=s[0],l=s[1],d=Object(i.useState)(1),h=Object(b.a)(d,2),m=h[0],g=h[1],x=Object(i.useState)(!1),p=Object(b.a)(x,2),v=p[0],y=p[1],k=Object(i.useState)(0),M=Object(b.a)(k,2),F=M[0],B=M[1],E=Object(i.useState)(0),z=Object(b.a)(E,2),P=z[0],W=z[1],J=Object(i.useState)(0),Q=Object(b.a)(J,2),X=Q[0],G=Q[1],$=Object(i.useState)(""),Z=Object(b.a)($,2),ee=Z[0],te=Z[1],ne=Object(i.useState)(!1),ce=Object(b.a)(ne,2),ie=ce[0],ae=ce[1],oe=Object(i.useState)(!1),se=Object(b.a)(oe,2),re=se[0],le=se[1],je=Object(D.a)(),be={"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}};Object(i.useEffect)((function(){localStorage.setItem("nominees",JSON.stringify(r)),5===r.length?ae(!0):ae(!1)}),[r]),Object(i.useEffect)((function(){W(10*m-9),G(10*m-10+c.length)}),[m,c]);var de=function(e){if(5===r.length)je({title:"No more nominations available.",description:"You've already nominated 5 movies!",status:"error",duration:2e3,isClosable:!0});else{var t=I()(c,(function(t){return t.imdbID===e}));je({title:"Nominee added.",description:"You've added '"+t.Title+"' to your nominations",status:"success",duration:2e3,isClosable:!0}),l([].concat(Object(j.a)(r),[t]))}},he=function(e){var t=Object(j.a)(r),n=T()(t,(function(t){return t.imdbID===e}))[0];l(Object(j.a)(t)),je({title:"Nominee removed.",description:"You've removed '"+n.Title+"' from your nominations",status:"success",duration:2e3,isClosable:!0})},ue=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;y(!0),g(e),u(e,ee.trim()).then((function(e){var t=e.data.Search;B(e.data.totalResults),t?a(t):(je({title:"No results found.",description:"Couldn't find any movies with that search criteria.",status:"error",duration:2e3,isClosable:!0}),a([])),y(!1)}))}),[ee,je]);return Object(w.jsxs)(O.a,{width:"100%",children:[Object(w.jsx)(C,{isOpen:ie}),Object(w.jsx)(H.a,{children:Object(w.jsxs)(N.a,{direction:"column",p:10,width:"90%",children:[Object(w.jsx)(_,{}),Object(w.jsx)(S,{loading:v,getMovies:ue,query:ee,setQuery:te,liveSearch:re}),Object(w.jsxs)(q.a,{columns:[1,null,2],spacing:5,children:[Object(w.jsxs)(O.a,{marginTop:5,marginBottom:5,children:[Object(w.jsxs)(R.a,{marginTop:7,as:"h2",size:"lg",children:[c.length>0&&!v&&"Search results ("+P+"-"+X+" of "+F+")",(0===c.length||v)&&"Movies"]}),Object(w.jsx)(O.a,{height:"50vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:be,children:Object(w.jsx)(L.a,{isLoaded:!v,children:c.map((function(e){return Object(w.jsx)(U,{name:e.Title,year:e.Year,id:e.imdbID,nominateMovie:de,nominees:!1,isNominated:I()(r,(function(t){return t.imdbID===e.imdbID}))},e.imdbID)}))})}),Object(w.jsxs)(N.a,{hidden:0===c.length,height:"12vh",alignItems:"center",children:[Object(w.jsx)(f.a,{disabled:1===m,colorScheme:"green",onClick:function(){ue(m-1)},children:"Back"}),Object(w.jsx)(Y.a,{}),Object(w.jsx)(f.a,{disabled:X===parseInt(F),colorScheme:"green",onClick:function(){ue(m+1)},children:"Next"})]})]}),Object(w.jsxs)(O.a,{marginTop:5,marginBottom:5,children:[Object(w.jsxs)(R.a,{marginTop:7,as:"h2",size:"lg",children:["My Nominations (",r.length,"/5)"]}),Object(w.jsx)(O.a,{height:"50vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:be,children:r.map((function(e){return Object(w.jsx)(U,{name:e.Title,year:e.Year,id:e.imdbID,isNominated:!0,nominees:!0,removeMovie:he},e.imdbID)}))}),Object(w.jsxs)(N.a,{position:"absolute",right:5,mt:"15vh",alignItems:"center",children:[Object(w.jsx)(K.a,{htmlFor:"live-search",children:Object(w.jsx)(A.a,{children:" Live Search?"})}),Object(w.jsx)(V.a,{value:re,onChange:function(e){le(!re)},colorScheme:"green",id:"live-search"})]})]})]})]})})]})};var ee=function(){return Object(w.jsx)(s.a,{theme:l,children:Object(w.jsx)(Z,{})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(w.jsxs)(i.StrictMode,{children:[Object(w.jsx)(c.a,{initialColorMode:l.config.initialColorMode}),Object(w.jsx)(ee,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),te()}},[[155,1,2]]]);
//# sourceMappingURL=main.c287b67f.chunk.js.map