(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var i=n(164),o=n(0),a=n(41),c=n.n(a),r=n(167),s=n(147),l=Object(s.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}}),d=n(13),b=n(3),h=n(94),j=n.n(h).a.create({baseURL:"".concat("https://www.omdbapi.com")});function u(e,t){return j.get("https://www.omdbapi.com/?s=".concat(t,"&apikey=8eda12ed&page=").concat(e,"&type=movie"))}var m=n(148),O=n(173),g=n(149),v=n(172),x=n(100),f=n(150),p=n(38),w=n.n(p),S=n(5);var k=function(e){var t=e.loading,n=e.getMovies,i=e.query,a=e.setQuery,c=e.liveSearch;Object(o.useEffect)((function(){c&&i.length>3&&n(1)}),[i,c,n]);var r=Object(p.debounce)((function(e){var t=e.target.value;a(t)}),300);return Object(S.jsx)(m.a,{width:"100%",children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(g.a,{pointerEvents:"none",children:Object(S.jsx)(f.a,{color:"gray"})}),Object(S.jsx)(v.a,{type:"text",placeholder:"Title (4+ chars)",onChange:function(e){return r(e)}}),Object(S.jsx)(x.a,{hidden:c,isLoading:t,marginLeft:5,colorScheme:"green",disabled:i.length<3,onClick:function(){return n(1)},children:"Search"})]})})},C=n(166),y=n(168),I=n(160),T=n(174),M=n(155),N=n(154),D=n(156),E=n(162),Y=n(163),L=n(169),B=n(157),F=n(158),R=n(159),J=n(171);var z=function(e){var t=e.name,n=e.isNominated,i=e.id,o=e.year,a=e.nominateMovie,c=e.removeMovie,r=e.nominees;return Object(S.jsx)(J.a,{initialScale:.9,in:!0,children:Object(S.jsx)(m.a,{borderWidth:"1px",borderRadius:"md",backgroundColor:"white",textColor:"black",p:5,marginTop:6,width:"95%",children:Object(S.jsxs)(N.a,{alignItems:"center",children:[Object(S.jsxs)(M.a,{p:2,as:"h4",size:"md",children:[t," (",o,")"]}),Object(S.jsx)(D.a,{}),Object(S.jsx)(B.a,{colorScheme:r?"red":"green",icon:r?Object(S.jsx)(F.a,{}):Object(S.jsx)(R.a,{}),disabled:!r&&n,onClick:function(){r?c(i):a(i)}})]})})})};var Q=function(){var e=JSON.parse(localStorage.getItem("nominees"))||[],t=Object(o.useState)([]),n=Object(b.a)(t,2),i=n[0],a=n[1],c=Object(o.useState)(e),r=Object(b.a)(c,2),s=r[0],l=r[1],h=Object(o.useState)(1),j=Object(b.a)(h,2),O=j[0],g=j[1],v=Object(o.useState)(!1),f=Object(b.a)(v,2),p=f[0],B=f[1],F=Object(o.useState)(0),R=Object(b.a)(F,2),J=R[0],Q=R[1],W=Object(o.useState)(0),q=Object(b.a)(W,2),P=q[0],U=q[1],X=Object(o.useState)(0),A=Object(b.a)(X,2),G=A[0],H=A[1],$=Object(o.useState)(""),K=Object(b.a)($,2),V=K[0],Z=K[1],_=Object(o.useState)(!1),ee=Object(b.a)(_,2),te=ee[0],ne=ee[1],ie=Object(C.a)();Object(o.useEffect)((function(){localStorage.setItem("nominees",JSON.stringify(s))}),[s]),Object(o.useEffect)((function(){U(10*O-9),H(10*O-10+i.length)}),[O,i]);var oe=function(e){if(5===s.length)ie({title:"No more nominations available.",description:"You've already nominated 5 movies!",status:"error",duration:2e3,isClosable:!0});else{var t=w()(i,(function(t){return t.imdbID===e}));ie({title:"Nominee added.",description:"You've added '"+t.Title+"' to your nominations",status:"success",duration:2e3,isClosable:!0}),l([].concat(Object(d.a)(s),[t]))}},ae=function(e){console.log("unnominating");var t=Object(d.a)(s),n=w()(t,(function(t){return t.imdbID===e}))[0];console.log(n),console.log(t),l(Object(d.a)(t)),ie({title:"Nominee removed.",description:"You've removed '"+n.Title+"' from your nominations",status:"success",duration:2e3,isClosable:!0})},ce=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;B(!0),g(e),u(e,V).then((function(e){console.log("QUERY THAT GETS SENT IS: ",V);var t=e.data.Search;Q(e.data.totalResults),t?a(t):(ie({title:"No results found.",description:"Couldn't find any movies with that search criteria.",status:"error",duration:2e3,isClosable:!0}),a([])),B(!1)}))}),[V,ie]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(m.a,{width:"100%",children:Object(S.jsx)(I.a,{children:Object(S.jsxs)(m.a,{p:10,width:"90%",children:[Object(S.jsx)(k,{loading:p,getMovies:ce,query:V,setQuery:Z,liveSearch:te}),Object(S.jsxs)(T.a,{columns:[1,null,2],spacing:5,children:[Object(S.jsxs)(m.a,{height:"80vh",marginTop:5,marginBottom:5,children:[Object(S.jsxs)(M.a,{marginTop:7,as:"h2",size:"lg",children:[i.length>0&&!p&&"Search results ("+P+"-"+G+" of "+J+")",(0===i.length||p)&&"Movies"]}),Object(S.jsx)(m.a,{height:"70vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}},children:Object(S.jsx)(y.a,{isLoaded:!p,children:i.map((function(e){return Object(S.jsx)(z,{name:e.Title,year:e.Year,id:e.imdbID,nominateMovie:oe,nominees:!1,isNominated:w()(s,(function(t){return t.imdbID===e.imdbID}))},e.imdbID)}))})}),Object(S.jsxs)(N.a,{hidden:0===i.length,height:"12vh",alignItems:"center",children:[Object(S.jsx)(x.a,{disabled:1===O,colorScheme:"green",onClick:function(){ce(O-1)},children:"Back"}),Object(S.jsx)(D.a,{}),Object(S.jsx)(x.a,{disabled:G===parseInt(J),colorScheme:"green",onClick:function(){ce(O+1)},children:"Next"})]})]}),Object(S.jsxs)(m.a,{height:"80vh",marginTop:5,marginBottom:5,children:[Object(S.jsx)(M.a,{marginTop:7,as:"h2",size:"lg",children:"My Nominations"}),Object(S.jsx)(m.a,{height:"70vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}},children:s.map((function(e){return Object(S.jsx)(z,{name:e.Title,year:e.Year,id:e.imdbID,isNominated:!0,nominees:!0,removeMovie:ae},e.imdbID)}))}),Object(S.jsxs)(N.a,{position:"absolute",right:5,alignItems:"center",children:[Object(S.jsx)(E.a,{htmlFor:"live-search",children:Object(S.jsx)(Y.a,{children:" Live Search?"})}),Object(S.jsx)(L.a,{value:te,onChange:function(e){ne(!te)},colorScheme:"green",id:"live-search"})]})]})]})]})})})})};var W=function(){return Object(S.jsx)(r.a,{theme:l,children:Object(S.jsx)(Q,{})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),a(e),c(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(S.jsxs)(o.StrictMode,{children:[Object(S.jsx)(i.a,{initialColorMode:l.config.initialColorMode}),Object(S.jsx)(W,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),q()}},[[135,1,2]]]);
//# sourceMappingURL=main.7d3a233b.chunk.js.map