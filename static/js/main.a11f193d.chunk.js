(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var i=n(166),a=n(0),o=n(40),c=n.n(o),r=n(169),s=n(149),l=Object(s.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}}),d=n(13),b=n(3),h=n(94),j=n.n(h).a.create({baseURL:"".concat("https://www.omdbapi.com")});function u(e,t){return j.get("https://www.omdbapi.com/?s=".concat(t,"&apikey=8eda12ed&page=").concat(e,"&type=movie"))}var m=n(150),O=n(175),g=n(151),v=n(174),f=n(102),x=n(152),p=n(95),w=n(5);var S=function(e){var t=e.loading,n=e.getMovies,i=e.query,o=e.setQuery,c=e.liveSearch;Object(a.useEffect)((function(){c&&i.length>3&&n(1)}),[i,c,n]);var r=Object(p.debounce)((function(e){var t=e.target.value;o(t)}),300);return Object(w.jsx)(m.a,{width:"100%",children:Object(w.jsxs)(O.a,{children:[Object(w.jsx)(g.a,{pointerEvents:"none",children:Object(w.jsx)(x.a,{color:"gray"})}),Object(w.jsx)(v.a,{type:"text",placeholder:"Title (4+ chars)",onChange:function(e){return r(e)}}),Object(w.jsx)(f.a,{hidden:c,isLoading:t,marginLeft:5,colorScheme:"green",disabled:i.length<3,onClick:function(){return n(1)},children:"Search"})]})})},k=n(74),C=n.n(k),y=n(98),I=n.n(y),M=n(168),T=n(170),N=n(156),D=n(157),L=n(158),Y=n(159),B=n(160),E=n(161),F=n(173);var R=function(e){var t=e.name,n=e.isNominated,i=e.id,a=e.year,o=e.nominateMovie,c=e.removeMovie,r=e.nominees;return Object(w.jsx)(F.a,{initialScale:.9,in:!0,children:Object(w.jsx)(m.a,{borderWidth:"1px",borderRadius:"md",backgroundColor:"white",textColor:"black",p:5,marginTop:6,width:"95%",children:Object(w.jsxs)(N.a,{alignItems:"center",children:[Object(w.jsxs)(D.a,{p:2,as:"h4",size:"md",children:[t," (",a,")"]}),Object(w.jsx)(L.a,{}),Object(w.jsx)(Y.a,{colorScheme:r?"red":"green",icon:r?Object(w.jsx)(B.a,{}):Object(w.jsx)(E.a,{}),disabled:!r&&n,onClick:function(){r?c(i):o(i)}})]})})})},J=n(162),z=n(176),W=n(164),q=n(165),P=n(171);var Q=function(){var e=JSON.parse(localStorage.getItem("nominees"))||[],t=Object(a.useState)([]),n=Object(b.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(e),r=Object(b.a)(c,2),s=r[0],l=r[1],h=Object(a.useState)(1),j=Object(b.a)(h,2),O=j[0],g=j[1],v=Object(a.useState)(!1),x=Object(b.a)(v,2),p=x[0],k=x[1],y=Object(a.useState)(0),Y=Object(b.a)(y,2),B=Y[0],E=Y[1],F=Object(a.useState)(0),Q=Object(b.a)(F,2),X=Q[0],U=Q[1],$=Object(a.useState)(0),A=Object(b.a)($,2),G=A[0],H=A[1],K=Object(a.useState)(""),V=Object(b.a)(K,2),Z=V[0],_=V[1],ee=Object(a.useState)(!1),te=Object(b.a)(ee,2),ne=te[0],ie=te[1],ae=Object(M.a)();Object(a.useEffect)((function(){localStorage.setItem("nominees",JSON.stringify(s))}),[s]),Object(a.useEffect)((function(){U(10*O-9),H(10*O-10+i.length)}),[O,i]);var oe=function(e){if(5===s.length)ae({title:"No more nominations available.",description:"You've already nominated 5 movies!",status:"error",duration:2e3,isClosable:!0});else{var t=C()(i,(function(t){return t.imdbID===e}));ae({title:"Nominee added.",description:"You've added '"+t.Title+"' to your nominations",status:"success",duration:2e3,isClosable:!0}),l([].concat(Object(d.a)(s),[t]))}},ce=function(e){var t=Object(d.a)(s),n=I()(t,(function(t){return t.imdbID===e}))[0];l(Object(d.a)(t)),ae({title:"Nominee removed.",description:"You've removed '"+n.Title+"' from your nominations",status:"success",duration:2e3,isClosable:!0})},re=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;k(!0),g(e),u(e,Z).then((function(e){var t=e.data.Search;E(e.data.totalResults),t?o(t):(ae({title:"No results found.",description:"Couldn't find any movies with that search criteria.",status:"error",duration:2e3,isClosable:!0}),o([])),k(!1)}))}),[Z,ae]);return Object(w.jsx)(m.a,{width:"100%",children:Object(w.jsx)(J.a,{children:Object(w.jsxs)(m.a,{p:10,width:"90%",children:[Object(w.jsx)(S,{loading:p,getMovies:re,query:Z,setQuery:_,liveSearch:ne}),Object(w.jsxs)(z.a,{columns:[1,null,2],spacing:5,children:[Object(w.jsxs)(m.a,{height:"80vh",marginTop:5,marginBottom:5,children:[Object(w.jsxs)(D.a,{marginTop:7,as:"h2",size:"lg",children:[i.length>0&&!p&&"Search results ("+X+"-"+G+" of "+B+")",(0===i.length||p)&&"Movies"]}),Object(w.jsx)(m.a,{height:"70vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}},children:Object(w.jsx)(T.a,{isLoaded:!p,children:i.map((function(e){return Object(w.jsx)(R,{name:e.Title,year:e.Year,id:e.imdbID,nominateMovie:oe,nominees:!1,isNominated:C()(s,(function(t){return t.imdbID===e.imdbID}))},e.imdbID)}))})}),Object(w.jsxs)(N.a,{hidden:0===i.length,height:"12vh",alignItems:"center",children:[Object(w.jsx)(f.a,{disabled:1===O,colorScheme:"green",onClick:function(){re(O-1)},children:"Back"}),Object(w.jsx)(L.a,{}),Object(w.jsx)(f.a,{disabled:G===parseInt(B),colorScheme:"green",onClick:function(){re(O+1)},children:"Next"})]})]}),Object(w.jsxs)(m.a,{height:"80vh",marginTop:5,marginBottom:5,children:[Object(w.jsxs)(D.a,{marginTop:7,as:"h2",size:"lg",children:["My Nominations (",s.length,"/5)"]}),Object(w.jsx)(m.a,{height:"70vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}},children:s.map((function(e){return Object(w.jsx)(R,{name:e.Title,year:e.Year,id:e.imdbID,isNominated:!0,nominees:!0,removeMovie:ce},e.imdbID)}))}),Object(w.jsxs)(N.a,{position:"absolute",right:5,alignItems:"center",children:[Object(w.jsx)(W.a,{htmlFor:"live-search",children:Object(w.jsx)(q.a,{children:" Live Search?"})}),Object(w.jsx)(P.a,{value:ne,onChange:function(e){ie(!ne)},colorScheme:"green",id:"live-search"})]})]})]})]})})})};var X=function(){return Object(w.jsx)(r.a,{theme:l,children:Object(w.jsx)(Q,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(w.jsxs)(a.StrictMode,{children:[Object(w.jsx)(i.a,{initialColorMode:l.config.initialColorMode}),Object(w.jsx)(X,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),U()}},[[137,1,2]]]);
//# sourceMappingURL=main.a11f193d.chunk.js.map