(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{155:function(e,t,n){"use strict";n.r(t);var c=n(192),i=n(0),a=n(35),o=n.n(a),s=n(195),r=n(170),j=Object(r.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}}),l=n(16),b=n(4),d=n(103),h="https://www.omdbapi.com",u=n.n(d).a.create({baseURL:"".concat(h)});function O(e,t){return u.get("".concat(h,"/?s=").concat(t,"&apikey=8eda12ed&page=").concat(e,"&type=movie"))}var m=n(171),g=n(172),x=n(173),f=n(201),v=n(111),p=n(174),S=n(104),y=n(3);var C=function(e){var t=e.loading,n=e.getMovies,c=e.query,a=e.setQuery,o=e.liveSearch;Object(i.useEffect)((function(){o&&c&&n(1)}),[c,o,n]);var s=Object(S.debounce)((function(e){a(e)}),300);return Object(y.jsx)(m.a,{width:"100%",children:Object(y.jsxs)(g.a,{children:[Object(y.jsx)(x.a,{pointerEvents:"none",children:Object(y.jsx)(p.a,{color:"gray"})}),Object(y.jsx)(f.a,{type:"text",placeholder:"Title (4+ chars)",onChange:function(e){var t=e.target.value;t.length>3&&s(t)}}),Object(y.jsx)(v.a,{type:"submit",hidden:o,isLoading:t,marginLeft:5,colorScheme:"green",disabled:c.length<3,onClick:function(){return n(1)},children:"Search"})]})})},w=n(176),k=n(177),I=n(178);var M=function(e){var t=e.isOpen;return Object(y.jsx)(w.a,{in:t,children:Object(y.jsx)(m.a,{bg:"#9ae7b5",w:"100%",p:2,children:Object(y.jsx)(k.a,{alignItems:"center",justifyContent:"center",children:Object(y.jsx)(I.a,{as:"h4",color:"black",children:"You've nominated 5 movies. Congrats!"})})})})},N=n(85),D=n.n(N),L=n(106),T=n.n(L),Y=n(194),R=n(196),B=n(185),E=n(184),P=n(186),W=n(187),z=n(188),F=n(189),J=n(179),A=n(193),_=n(183),q=n(200),Q=n(198),X=n(199),G=n.p+"static/media/poster_not_found.076546b9.svg";var H=function(e){var t=e.isOpen,n=e.onClose,c=e.title,a=e.movieId,o=Object(i.useState)(!0),s=Object(b.a)(o,2),r=s[0],j=s[1],l=Object(i.useState)({}),d=Object(b.a)(l,2),O=d[0],g=d[1],x=Object(i.useState)([]),f=Object(b.a)(x,2),v=f[0],p=f[1],S=Object(i.useState)(""),C=Object(b.a)(S,2),w=C[0],M=C[1];return Object(i.useEffect)((function(){t&&function(e){return u.get("".concat(h,"/?i=").concat(e,"&apikey=8eda12ed&type=movie"))}(a).then((function(e){var t=e.data,n={};n.Actors=t.Actors,n.Director=t.Director,n.Plot=t.Plot,n.Rating=t.Rated,n.Runtime=t.Runtime,n.Year=t.Year,n.Language=t.Language,M(t.Poster),console.log(t.Poster),p(t.Genre.split(",")),g(n),j(!1)}))}),[t,a]),Object(y.jsxs)(A.a,{onClose:n,isOpen:t,children:[Object(y.jsx)(A.g,{}),Object(y.jsxs)(A.d,{maxW:"45rem",children:[Object(y.jsx)(A.c,{}),Object(y.jsx)(A.f,{children:c}),r&&Object(y.jsx)(R.b,{p:5,isLoaded:!r,mt:"4",noOfLines:20,spacing:"4"}),Object(y.jsx)(A.b,{children:Object(y.jsxs)(q.a,{columns:[1,null,2],spacing:5,children:[Object(y.jsx)(k.a,{direction:"column",justifyContent:"center",children:Object.keys(O).map((function(e,t){return Object(y.jsxs)(m.a,{pb:5,children:[Object(y.jsxs)(I.a,{as:"b",children:[e,": "]})," ",O[e]," ",Object(y.jsx)("br",{})]})}))}),Object(y.jsx)(k.a,{alignItems:"center",justifyContent:"center",children:Object(y.jsx)(Q.a,{src:"N/A"!==w?w:G,alt:""})})]})}),Object(y.jsxs)(A.e,{display:"flex",children:[Object(y.jsx)(X.a,{children:v&&v.map((function(e){return Object(y.jsx)(_.a,{size:"lg",colorScheme:"gray",children:Object(y.jsx)(_.b,{children:e})},e)}))}),Object(y.jsx)(E.a,{})]})]})]})};var U=function(e){var t=e.name,n=e.isNominated,c=e.id,a=e.year,o=e.nominateMovie,s=e.removeMovie,r=e.nominees,j=Object(i.useState)(!1),l=Object(b.a)(j,2),d=l[0],h=l[1];return Object(y.jsxs)(J.a,{initialScale:.9,in:!0,children:[Object(y.jsx)(H,{isOpen:d,onClose:function(){return h(!1)},title:t,movieId:c}),Object(y.jsx)(m.a,{borderWidth:"1px",borderRadius:"md",backgroundColor:"white",textColor:"black",p:5,marginTop:6,width:"95%",children:Object(y.jsxs)(k.a,{alignItems:"center",children:[Object(y.jsxs)(B.a,{p:2,size:"md",children:[t," (",a,")"]}),Object(y.jsx)(E.a,{}),Object(y.jsx)(P.a,{marginRight:1,colorScheme:r?"red":"green",icon:r?Object(y.jsx)(W.a,{}):Object(y.jsx)(z.a,{}),disabled:!r&&n,onClick:function(){r?s(c):o(c)}}),Object(y.jsx)(P.a,{_hover:{bg:"gray.500"},backgroundColor:"gray.400",icon:Object(y.jsx)(F.a,{}),disabled:!r&&n,onClick:function(){h(!0)}})]})})]})},$=n.p+"static/media/shopify.a42f997c.png";var K=function(){return Object(y.jsxs)(k.a,{height:"8vh",width:"100%",alignItems:"center",mb:15,children:[Object(y.jsx)(B.a,{as:"h1",fontSize:{base:"20px",md:"40px",lg:"50px"},children:"Welcome to The Shoppies!"}),Object(y.jsx)(E.a,{}),Object(y.jsx)(k.a,{alignItems:"center",justifyContent:"center",children:Object(y.jsx)(Q.a,{height:"10vh",minWidth:"100",minHeight:"100",src:$,alt:"shopify logo"})})]})},V=n(190),Z=n(191),ee=n(197);var te=function(){var e=JSON.parse(localStorage.getItem("nominees"))||[],t=Object(i.useState)([]),n=Object(b.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e),s=Object(b.a)(o,2),r=s[0],j=s[1],d=Object(i.useState)(1),h=Object(b.a)(d,2),u=h[0],g=h[1],x=Object(i.useState)(!1),f=Object(b.a)(x,2),p=f[0],S=f[1],w=Object(i.useState)(0),N=Object(b.a)(w,2),L=N[0],P=N[1],W=Object(i.useState)(0),z=Object(b.a)(W,2),F=z[0],J=z[1],A=Object(i.useState)(0),_=Object(b.a)(A,2),Q=_[0],X=_[1],G=Object(i.useState)(""),H=Object(b.a)(G,2),$=H[0],te=H[1],ne=Object(i.useState)(!1),ce=Object(b.a)(ne,2),ie=ce[0],ae=ce[1],oe=Object(i.useState)(!0),se=Object(b.a)(oe,2),re=se[0],je=se[1],le=Object(Y.a)(),be={"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"white",borderRadius:"24px"}};Object(i.useEffect)((function(){localStorage.setItem("nominees",JSON.stringify(r)),5===r.length?ae(!0):ae(!1)}),[r]),Object(i.useEffect)((function(){J(10*u-9),X(10*u-10+c.length)}),[u,c]);var de=function(e){if(5===r.length)le({title:"No more nominations available.",description:"You've already nominated 5 movies!",status:"error",duration:1e3,isClosable:!0});else{var t=D()(c,(function(t){return t.imdbID===e}));le({title:"Nominee added.",description:"You've added '"+t.Title+"' to your nominations",status:"success",duration:1e3,isClosable:!0}),j([].concat(Object(l.a)(r),[t]))}},he=function(e){var t=Object(l.a)(r),n=T()(t,(function(t){return t.imdbID===e}))[0];j(Object(l.a)(t)),le({title:"Nominee removed.",description:"You've removed '"+n.Title+"' from your nominations",status:"success",duration:1e3,isClosable:!0})},ue=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;S(!0),g(e),O(e,$.trim()).then((function(e){var t=e.data.Search;P(e.data.totalResults),t?a(t):(le({title:"No results found.",description:"Couldn't find any movies with that search criteria.",status:"error",duration:2e3,isClosable:!0}),a([])),S(!1)}))}),[$,le]);return Object(y.jsxs)(m.a,{width:"100%",children:[Object(y.jsx)(M,{isOpen:ie}),Object(y.jsx)(V.a,{children:Object(y.jsxs)(k.a,{direction:"column",p:10,width:"90%",children:[Object(y.jsx)(K,{}),Object(y.jsx)(C,{loading:p,getMovies:ue,query:$,setQuery:te,liveSearch:re}),Object(y.jsxs)(q.a,{columns:[1,null,2],spacing:5,children:[Object(y.jsxs)(m.a,{marginTop:5,marginBottom:5,children:[Object(y.jsxs)(B.a,{size:"lg",children:[c.length>0&&!p&&"Search results( "+F+"-"+Q+" of "+L+")",(0===c.length||p)&&"Movies"]}),Object(y.jsx)(m.a,{height:"60vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:be,children:Object(y.jsx)(R.a,{isLoaded:!p,children:c.map((function(e){return Object(y.jsx)(U,{name:e.Title,year:e.Year,id:e.imdbID,nominateMovie:de,nominees:!1,isNominated:D()(r,(function(t){return t.imdbID===e.imdbID}))},e.imdbID)}))})}),Object(y.jsxs)(k.a,{hidden:0===c.length,mt:3,alignItems:"center",children:[Object(y.jsx)(v.a,{disabled:1===u,colorScheme:"green",onClick:function(){ue(u-1)},children:"Back"}),Object(y.jsx)(E.a,{}),Object(y.jsx)(v.a,{disabled:Q===parseInt(L),colorScheme:"green",onClick:function(){ue(u+1)},children:"Next"})]})]}),Object(y.jsxs)(m.a,{marginTop:5,marginBottom:5,children:[Object(y.jsxs)(B.a,{size:"lg",children:["My Nominations (",r.length,"/5)"]}),Object(y.jsx)(m.a,{height:"60vh",overflow:"scroll",overflowX:"hidden",overflowY:"auto",css:be,children:r.map((function(e){return Object(y.jsx)(U,{name:e.Title,year:e.Year,id:e.imdbID,isNominated:!0,nominees:!0,removeMovie:he},e.imdbID)}))}),Object(y.jsxs)(k.a,{mt:3,children:[Object(y.jsx)(E.a,{}),Object(y.jsx)(Z.a,{htmlFor:"live-search",children:Object(y.jsx)(I.a,{children:" Live Search?"})}),Object(y.jsx)(ee.a,{defaultIsChecked:!0,value:re,onChange:function(e){je(!re)},colorScheme:"green",id:"live-search"})]})]})]})]})})]})};var ne=function(){return Object(y.jsx)(s.a,{theme:j,children:Object(y.jsx)(te,{})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(y.jsxs)(i.StrictMode,{children:[Object(y.jsx)(c.a,{initialColorMode:j.config.initialColorMode}),Object(y.jsx)(ne,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),ce()}},[[155,1,2]]]);
//# sourceMappingURL=main.08567105.chunk.js.map